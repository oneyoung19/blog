---
title: 16.extend
---

假设我们有一个 `Vue` 单文件组件 `Toast.vue`， 我们不想通过 `<Toast />` 的方式来使用它，而是想通过 `this.$toast()` 的方式来使用它。

那么也就是说 `this.$toast()` 触发时，我们需要手动创建一个 `Toast` 组件实例，并将其挂载到目标元素下。

如果我们想要实现上述功能，就需要用到 `Vue.extend`。

但在此之前，我们需要了解 `Vue` 实例的 `$el` 和 `$mount` 方法。

## 16-1.$el

`$el` 是 `Vue` 实例的一个属性，表示**当前 `Vue` 实例使用的根 `DOM` 元素**。

有两个注意点：

1. 如果 `Vue` 实例在实例化时没有声明 `el` 选项，则它处于“未挂载”状态，`vm.$el` 为 `undefined`。
2. 如果 `Vue` 实例在实例化没有声明 `el` 选项，且调用 `vm.$mount()` 方法时没有提供 `elementOrSelector` 参数，则 `vm.$el` 为 `undefined`。

## 16-2.$mount

基础语法如下：

```js
vm.$mount([elementOrSelector])
```

实现一个组件实例的挂载，一共有以下 `3` 种方式：

1. 在组件实例化时传入 `el` 选项。

2. 使用 `vm.$mount([elementOrSelector])` 手动地挂载一个未挂载的实例。

3. 如果没有提供 `elementOrSelector` 参数，模板将被渲染为文档之外的元素，那么我们可以使用原生 `DOM API` 把它插入文档中。

```js
// 1
const vm = new Vue({
  el: '#app'
})

// 2
const vm = new Vue()
vm.$mount('#app')

// 3
const vm = new Vue()
vm.$mount()
document.body.appendChild(vm.$el)
```

## 16-3.Vue.extend

`Vue.extend` 用于创建一个 `Vue` 组件的子类。它返回的是一个扩展实例构造器。

基本语法如下：

```js
const SubConstructor = Vue.extend(options)

const subInstance = new SubConstructor()

subInstance.$mount()

document.body.appendChild(subInstance.$el)
```



