import{_ as i,c as a,o as l,b0 as t}from"./chunks/framework.CEggy_nf.js";const h="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2NTkiIGhlaWdodD0iMTExIiB2aWV3Qm94PSIwIDAgNjU5IDExMSI+PGRlZnM+PHN0eWxlPkBpbXBvcnQgdXJsKGh0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzP2ZhbWlseT1PcGVuK1NhbnM6Ym9sZCxpdGFsaWMsYm9sZGl0YWxpYyU3Q1BUK01vbm8pO0Bmb250LWZhY2V7Zm9udC1mYW1pbHk6JmFwb3M7UFQgTW9ubyZhcG9zOztmb250LXdlaWdodDo3MDA7Zm9udC1zdHlsZTpub3JtYWw7c3JjOmxvY2FsKCZhcG9zO1BUIE1vbm9Cb2xkJmFwb3M7KSx1cmwoL2ZvbnQvUFRNb25vQm9sZC53b2ZmMikgZm9ybWF0KCZhcG9zO3dvZmYyJmFwb3M7KSx1cmwoL2ZvbnQvUFRNb25vQm9sZC53b2ZmKSBmb3JtYXQoJmFwb3M7d29mZiZhcG9zOyksdXJsKC9mb250L1BUTW9ub0JvbGQudHRmKSBmb3JtYXQoJmFwb3M7dHJ1ZXR5cGUmYXBvczspfTwvc3R5bGU+PC9kZWZzPjxnIGlkPSJiaW5hcnkiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiPjxnIGlkPSJibG9iLnN2ZyI+PHBhdGggaWQ9IlJlY3RhbmdsZS0yMjciIGZpbGw9IiNGQkYyRUMiIHN0cm9rZT0iI0RCQUY4OCIgc3Ryb2tlLXdpZHRoPSIyIiBkPSJNMTA4IDU2aDk2djI4aC05NnoiLz48dGV4dCBpZD0iaW1hZ2UvcG5nIiBmaWxsPSIjMTgxNzE3IiBmb250LWZhbWlseT0iUFRNb25vLVJlZ3VsYXIsIFBUIE1vbm8iIGZvbnQtc2l6ZT0iMTYiIGZvbnQtd2VpZ2h0PSJub3JtYWwiPjx0c3BhbiB4PSIxMTMuMyIgeT0iNzQiPmltYWdlL3BuZzwvdHNwYW4+PC90ZXh0PjxwYXRoIGlkPSJSZWN0YW5nbGUtMjI3IiBmaWxsPSIjRkJGMkVDIiBzdHJva2U9IiNEQkFGODgiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTIzOCA1Nmg3MXYyOGgtNzF6Ii8+PHRleHQgaWQ9ImJsb2IxIiBmaWxsPSIjMTgxNzE3IiBmb250LWZhbWlseT0iUFRNb25vLVJlZ3VsYXIsIFBUIE1vbm8iIGZvbnQtc2l6ZT0iMTYiIGZvbnQtd2VpZ2h0PSJub3JtYWwiPjx0c3BhbiB4PSIyNTAiIHk9Ijc0Ij5ibG9iMTwvdHNwYW4+PC90ZXh0PjxwYXRoIGlkPSJSZWN0YW5nbGUtMjI3LUNvcHkiIGZpbGw9IiNGQkYyRUMiIHN0cm9rZT0iI0RCQUY4OCIgc3Ryb2tlLXdpZHRoPSIyIiBkPSJNMzA4IDU2aDcxdjI4aC03MXoiLz48dGV4dCBpZD0iYmxvYjIiIGZpbGw9IiMxODE3MTciIGZvbnQtZmFtaWx5PSJQVE1vbm8tUmVndWxhciwgUFQgTW9ubyIgZm9udC1zaXplPSIxNiIgZm9udC13ZWlnaHQ9Im5vcm1hbCI+PHRzcGFuIHg9IjMyMCIgeT0iNzQiPmJsb2IyPC90c3Bhbj48L3RleHQ+PHBhdGggaWQ9IlJlY3RhbmdsZS0yMjctQ29weS0zIiBmaWxsPSIjRkJGMkVDIiBzdHJva2U9IiNEQkFGODgiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTQ3NSA1Nmg3MXYyOGgtNzF6Ii8+PHRleHQgaWQ9InN0ciIgZmlsbD0iIzE4MTcxNyIgZm9udC1mYW1pbHk9IlBUTW9uby1SZWd1bGFyLCBQVCBNb25vIiBmb250LXNpemU9IjE2IiBmb250LXdlaWdodD0ibm9ybWFsIj48dHNwYW4geD0iNDk3LjEiIHk9Ijc0Ij5zdHI8L3RzcGFuPjwvdGV4dD48cGF0aCBpZD0iUmVjdGFuZ2xlLTIyNy1Db3B5LTQiIGZpbGw9IiNGQkYyRUMiIHN0cm9rZT0iI0RCQUY4OCIgc3Ryb2tlLXdpZHRoPSIyIiBkPSJNNTQ2IDU2aDcxdjI4aC03MXoiLz48dGV4dCBpZD0iYnVmZmVyIiBmaWxsPSIjMTgxNzE3IiBmb250LWZhbWlseT0iUFRNb25vLVJlZ3VsYXIsIFBUIE1vbm8iIGZvbnQtc2l6ZT0iMTYiIGZvbnQtd2VpZ2h0PSJub3JtYWwiPjx0c3BhbiB4PSI1NTMuNyIgeT0iNzQiPmJ1ZmZlcjwvdHNwYW4+PC90ZXh0PjxwYXRoIGlkPSJSZWN0YW5nbGUtMjI3LUNvcHktMiIgZmlsbD0iI0ZCRjJFQyIgc3Ryb2tlPSIjREJBRjg4IiBzdHJva2Utd2lkdGg9IjIiIGQ9Ik0zNzkgNTZoOTZ2MjhoLTk2eiIvPjx0ZXh0IGlkPSIuLi4iIGZpbGw9IiMxODE3MTciIGZvbnQtZmFtaWx5PSJQVE1vbm8tUmVndWxhciwgUFQgTW9ubyIgZm9udC1zaXplPSIxNiIgZm9udC13ZWlnaHQ9Im5vcm1hbCI+PHRzcGFuIHg9IjQxMy4xIiB5PSI3NCI+Li4uPC90c3Bhbj48L3RleHQ+PHRleHQgaWQ9InR5cGUiIGZpbGw9IiMxODE3MTciIGZvbnQtZmFtaWx5PSJPcGVuU2Fucy1SZWd1bGFyLCBPcGVuIFNhbnMiIGZvbnQtc2l6ZT0iMjAiIGZvbnQtd2VpZ2h0PSJub3JtYWwiPjx0c3BhbiB4PSIxMzUuNjkyIiB5PSIyNCI+dHlwZTwvdHNwYW4+PC90ZXh0Pjx0ZXh0IGlkPSJCbG9iIiBmaWxsPSIjMTgxNzE3IiBmb250LWZhbWlseT0iT3BlblNhbnMtUmVndWxhciwgT3BlbiBTYW5zIiBmb250LXNpemU9IjIwIiBmb250LXdlaWdodD0ibm9ybWFsIj48dHNwYW4geD0iMjQuODIzIiB5PSI3NiI+QmxvYjwvdHNwYW4+PC90ZXh0Pjx0ZXh0IGlkPSJibG9iUGFydHMiIGZpbGw9IiMxODE3MTciIGZvbnQtZmFtaWx5PSJPcGVuU2Fucy1SZWd1bGFyLCBPcGVuIFNhbnMiIGZvbnQtc2l6ZT0iMjAiIGZvbnQtd2VpZ2h0PSJub3JtYWwiPjx0c3BhbiB4PSIzNzguMjEiIHk9IjI0Ij5ibG9iUGFydHM8L3RzcGFuPjwvdGV4dD48dGV4dCBpZD0iKyIgZmlsbD0iI0E3MzMzQSIgZm9udC1mYW1pbHk9Ik9wZW5TYW5zLVJlZ3VsYXIsIE9wZW4gU2FucyIgZm9udC1zaXplPSIyMCIgZm9udC13ZWlnaHQ9Im5vcm1hbCI+PHRzcGFuIHg9IjIxNi43ODIiIHk9Ijc3Ij4rPC90c3Bhbj48L3RleHQ+PHRleHQgaWQ9Ij0iIGZpbGw9IiNBNzMzM0EiIGZvbnQtZmFtaWx5PSJPcGVuU2Fucy1SZWd1bGFyLCBPcGVuIFNhbnMiIGZvbnQtc2l6ZT0iMjAiIGZvbnQtd2VpZ2h0PSJub3JtYWwiPjx0c3BhbiB4PSI3Ny43ODIiIHk9Ijc3Ij49PC90c3Bhbj48L3RleHQ+PHBhdGggaWQ9IkxpbmUtMiIgc3Ryb2tlPSIjQzA2MzM0IiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiBzdHJva2Utd2lkdGg9IjIiIGQ9Ik0yMzkgNDVjODEuMzQtNi42NjcgMTQzLjY3NC0xMCAxODctMTAgNDMuMzI2IDAgMTA1LjY2IDMuMzMzIDE4NyAxMCIvPjwvZz48L2c+PC9zdmc+",c=JSON.parse('{"title":"Blob","description":"","frontmatter":{"title":"Blob"},"headers":[],"relativePath":"cs/binary-file/4.blob.md","filePath":"cs/binary-file/4.blob.md","lastUpdated":1744257956000}'),n={name:"cs/binary-file/4.blob.md"};function e(k,s,p,d,r,E){return l(),a("div",null,s[0]||(s[0]=[t('<p><code>Blob</code> 由一个可选的字符串 <code>type</code>（通常是 MIME 类型）和 <code>blobParts</code> 组成：</p><img src="'+h+`"><p><strong><code>Blob</code> 相比 <code>TypedArray</code>、<code>ArrayBuffer</code>，多了 <code>MIME</code> 类型</strong>。</p><p>所以可以将 <code>Blob</code> 看做有类型的二进制数据。</p><h2 id="_1-语法" tabindex="-1">1.语法 <a class="header-anchor" href="#_1-语法" aria-label="Permalink to &quot;1.语法&quot;">​</a></h2><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// !!!注意第一个参数必须是数组序列</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Blob</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(blobParts, options)</span></span></code></pre></div><ul><li><code>blobParts</code>: <code>Blob/BufferSource/String</code> 类型值的数组。</li><li><code>options</code>: <strong>可选</strong>。 <ol><li><code>type</code>: <code>Blob</code> 类型，通常是 <code>MIME</code> 类型，例如 <code>image/png</code>。默认是 <code>application/octet-stream</code>。</li><li><code>endings</code>: 是否转换换行符，使 <code>Blob</code> 对应于当前操作系统的换行符（<code>\\r\\n</code> 或 <code>\\n</code>）。默认为 <code>transparent</code>（啥也不做），不过也可以是 <code>native</code>（转换）。</li></ol></li></ul><div class="tip custom-block"><p class="custom-block-title">TIP</p><p><code>BufferSource</code> 是 <code>ArrayBuffer</code> 或 <code>ArrayBufferView</code> （<code>TypedArray</code>、<code>DataView</code>）的总称。</p></div><h3 id="_1-1-处理blob" tabindex="-1">1-1.处理Blob <a class="header-anchor" href="#_1-1-处理blob" aria-label="Permalink to &quot;1-1.处理Blob&quot;">​</a></h3><p>该处的应用场景主要在<strong>文件下载</strong>。</p><p>关于此处的说明和使用可以查看<a href="/blog/cs/http/download.html#_1-1-blob" target="_blank">Blob文件下载</a></p><h3 id="_1-2-处理buffersource" tabindex="-1">1-2.处理BufferSource <a class="header-anchor" href="#_1-2-处理buffersource" aria-label="Permalink to &quot;1-2.处理BufferSource&quot;">​</a></h3><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Uint8Array</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">72</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">101</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">108</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">108</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">111</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> blob </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Blob</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([arr])</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(blob)</span></span></code></pre></div><p><img src="https://raw.githubusercontent.com/oneyoung19/vuepress-blog-img/main/img/e6c9d24ely1h3cfnzho5tj21ga0hyjtt.jpg" alt="" loading="lazy"></p><p>这里，其实还是看不出来 <code>blob</code> 的具体含义表示是什么。</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>可以对 <code>blob</code> 进行额外的处理：</p><ol><li><code>Blob</code> 实例上的 <code>text()</code>、<code>stream()</code> 等方法。</li><li><code>FileReader</code> 实例上的 <code>readAsText()</code> 等方法。</li><li>将 <code>blob</code> 转化为 <code>BlobURL</code>。</li></ol></div><h3 id="_1-3-处理string" tabindex="-1">1-3.处理String <a class="header-anchor" href="#_1-3-处理string" aria-label="Permalink to &quot;1-3.处理String&quot;">​</a></h3><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> str </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;&lt;html&gt;&lt;p&gt;Hello World&lt;/p&gt;&lt;/html&gt;&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> blob1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Blob</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([str])</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(blob1)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> blob2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Blob</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([str], { type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;text/html&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(blob2)</span></span></code></pre></div><p><img src="https://raw.githubusercontent.com/oneyoung19/vuepress-blog-img/main/img/e6c9d24ely1h3cftc6k9wj21e60dctap.jpg" alt="" loading="lazy"></p><p>在本例中：</p><p>不声明 <code>type</code> 时，将来的内容会被当做 <code>text/plain</code> 的形式来显示。</p><p>声明 <code>type</code> 为 <code>text/html</code>，将来的内容会被当做 <code>text/html</code> 的形式来显示，内部的 <code>html</code> 标签会被解析。</p><p>可以类比与 <code>innerText</code> 与 <code>innerHtml</code> 方法的区别。</p><h2 id="_2-方法" tabindex="-1">2.方法 <a class="header-anchor" href="#_2-方法" aria-label="Permalink to &quot;2.方法&quot;">​</a></h2><p><code>Blob</code> 原型上挂载了一些方法，供实例调用。</p><p>按照功能划分，大致有两类：</p><ol><li>读取功能。有 <code>arrayBuffer()</code>、<code>text()</code>、<code>stream()</code>。</li><li>操作功能。有 <code>slice()</code>。</li></ol><h3 id="_2-1-arraybuffer" tabindex="-1">2-1.arrayBuffer() <a class="header-anchor" href="#_2-1-arraybuffer" aria-label="Permalink to &quot;2-1.arrayBuffer()&quot;">​</a></h3><p>将 <code>blob</code> 读取为 <code>arrayBuffer</code>:</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Uint8Array</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">72</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">101</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">108</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">108</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">111</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> blob </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Blob</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([arr])</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">blob.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">arrayBuffer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">buffer</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(buffer)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><h3 id="_2-2-text" tabindex="-1">2-2.text() <a class="header-anchor" href="#_2-2-text" aria-label="Permalink to &quot;2-2.text()&quot;">​</a></h3><p>将 <code>blob</code> 读取为普通文本 <code>text</code>:</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Uint8Array</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">72</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">101</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">108</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">108</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">111</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> blob </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Blob</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([arr])</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">blob.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">text</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(text) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &#39;Hello&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p><strong>无论 <code>type</code> 是否设置了 <code>MIME</code> 类型，统一读取为 <code>text/plain</code>。</strong></p></div><h3 id="_2-3-stream" tabindex="-1">2-3.stream() <a class="header-anchor" href="#_2-3-stream" aria-label="Permalink to &quot;2-3.stream()&quot;">​</a></h3><p>将 <code>blob</code> 读取为文本流 <code>stream</code>:</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Uint8Array</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">72</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">101</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">108</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">108</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">111</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> blob </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Blob</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([arr])</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> readableStream </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> blob.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">stream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> reader </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> readableStream.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getReader</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">reader.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">read</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">res</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(res) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// {value: Uint8Array(5), done: false}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><p>返回值形式 <code>{value: Uint8Array(5), done: false}</code> 中的 <code>done</code> 表示<strong>是否已经读取转化完</strong>。</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>有点类似于<strong>迭代器</strong>的设计。</p></div><h3 id="_2-4-slice" tabindex="-1">2-4.slice() <a class="header-anchor" href="#_2-4-slice" aria-label="Permalink to &quot;2-4.slice()&quot;">​</a></h3><p><code>slice()</code> 方法用来截取 <code>blob</code>。</p><p>该方法在现代开发中，可用于<strong>大文件断片上传</strong>。</p><p>该方法类似于 <code>Array</code> 的 <code>slice</code> 方法，可设定长度 <code>[byteStart, byteEnd)</code>。</p><p>基本语法如下：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">blob.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">slice</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([byteStart], [byteEnd], [contentType])</span></span></code></pre></div><ul><li><code>byteStart</code>: 起始字节，默认为 <code>0</code>。</li><li><code>byteEnd</code>: 最后一个字节，<strong>不包含</strong>。</li><li><code>contentType</code>: 新 <code>blob</code> 的 <code>type</code>，默认与源 <code>blob</code> 相同。</li></ul><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 截取&#39;Hello&#39;中的前两位</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Uint8Array</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">72</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">101</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">108</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">108</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">111</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> blob </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Blob</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([arr])</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sliceBlob </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> blob.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">slice</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sliceBlob.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">text</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(text) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &#39;He&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><h2 id="_3-url转化" tabindex="-1">3.URL转化 <a class="header-anchor" href="#_3-url转化" aria-label="Permalink to &quot;3.URL转化&quot;">​</a></h2><p><code>Blob</code> 可以用作 <code>&lt;a&gt;</code>、<code>&lt;img&gt;</code> 或其他标签的 <code>URL</code>，来显示它们的内容。</p><h3 id="_3-1-bloburl" tabindex="-1">3-1.BlobURL <a class="header-anchor" href="#_3-1-bloburl" aria-label="Permalink to &quot;3-1.BlobURL&quot;">​</a></h3><p><code>BlobURL</code> 的基本形式为 <code>blob:&lt;origin&gt;/&lt;uuid&gt;</code>。</p><p>例如：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>blob:http://jsgoshu.cn/05c212a9-2e47-477c-91df-430425ab3075</span></span></code></pre></div><p>我们可以通过 <code>URL.createObjectURL</code> 方法来创建 <code>BlobURL</code>。</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> buffer </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Uint8Array</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">72</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">101</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">108</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">108</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">111</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]).buffer</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> blob </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Blob</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([buffer], { type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;text/plain&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> blobUrl </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> URL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createObjectURL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(blob)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(blobUrl)</span></span></code></pre></div><p><code>BlobURL</code> 是放在当前浏览器内存中的映射。</p><p><strong>生成的 URL（即其链接）仅在当前文档打开的状态下才有效</strong>。</p><p>当关闭浏览器页面时 当前的 <code>BlobUrl</code> 将立即失效。</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>另外，由于 <code>BlobURL</code> 会占用浏览器内存，为了防止内存占用过多：</p><p>我们可以选择<strong>在适当的时机，调用 <code>URL.revokeObjectURL</code> 主动释放内存</strong>。</p><p>调用之后，<code>BlobURL</code> 也会立即失效。</p><p><strong>该方式常用于 <code>文件下载</code></strong>。在 <code>a</code> 链接下载完文件之后，释放内存。</p></div><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> link </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createElement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;a&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">link.download </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;hello.txt&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> blob </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Blob</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Hello, world!&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], {type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;text/plain&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">link.href </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> URL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createObjectURL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(blob)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">link.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">URL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">revokeObjectURL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(link.href)</span></span></code></pre></div><h3 id="_3-2-dataurl" tabindex="-1">3-2.DataURL <a class="header-anchor" href="#_3-2-dataurl" aria-label="Permalink to &quot;3-2.DataURL&quot;">​</a></h3><p><code>DataURL</code> 的形式为 <code>data:[&lt;mediatype&gt;][;base64],&lt;data&gt;</code>。</p><p>譬如：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>data:image/png;base64,R0lGODlhDAAMAKIFAF5LAP/zxAAAANyuAP/gaP///wAAAAAAACH5BAEAAAUALAAAAAAMAAwAAAMlWLPcGjDKFYi9lxKBOaGcF35DhWHamZUW0K4mAbiwWtuf0uxFAgA7</span></span></code></pre></div><p>我们可以利用 <code>FileReader</code> 的 <code>readAsDataURL</code> 方法将 <code>blob</code> 转化为 <code>DataURL</code>：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> blob </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Blob</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Hello World&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], { type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;text/plain&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> reader </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> FileReader</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">reader.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readAsDataURL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(blob)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">reader.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">onload</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.result) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// data:text/plain;base64,SGVsbG8gV29ybGQ=</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">reader.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">onerror</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.error)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p><code>DataURL</code> 采用的是 <code>base64</code> 编码。</p><p>这种编码将二进制数据表示为一个由 <code>0</code> 到 <code>64</code> 的 <code>ASCII</code> 码组成的字符串，非常安全且可读。</p><p>而且相比于 <code>BlobURL</code>，<strong><code>DataURL</code> 是长期有效的</strong>。</p></div>`,67)]))}const g=i(n,[["render",e]]);export{c as __pageData,g as default};
