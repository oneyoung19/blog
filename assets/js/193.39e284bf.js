(window.webpackJsonp=window.webpackJsonp||[]).push([[193],{654:function(s,t,a){"use strict";a.r(t);var e=a(40),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"_1-域名添加ssl"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-域名添加ssl"}},[s._v("#")]),s._v(" 1.域名添加SSL")]),s._v(" "),a("p",[a("code",[s._v("HTTPS")]),s._v("（超文本传输安全协议）中的证书是一种用于确保网站安全性和身份验证的重要组成部分。")]),s._v(" "),a("p",[a("code",[s._v("HTTPS")]),s._v(" 协议通过在 "),a("code",[s._v("HTTP")]),s._v(" 和传输层安全性协议（"),a("code",[s._v("TLS")]),s._v("）之间添加一层安全性来保护数据传输。")]),s._v(" "),a("p",[s._v("证书是 "),a("code",[s._v("TLS")]),s._v(" 协议中的一部分，用于加密数据传输并验证服务器的身份。")]),s._v(" "),a("p",[a("code",[s._v("HTTPS")]),s._v(" 证书通常包含以下信息：")]),s._v(" "),a("ol",[a("li",[a("p",[a("strong",[s._v("公钥")]),s._v("：证书包含一个公钥，用于加密在客户端和服务器之间传输的数据。这意味着只有服务器拥有与此公钥相关联的私钥，才能解密客户端发送的数据。")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("服务器信息")]),s._v("：证书包含有关服务器的信息，包括服务器的域名（通常是网站的域名，如"),a("code",[s._v("www.example.com")]),s._v("）以及证书的颁发者（通常是证书颁发机构）。")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("数字签名")]),s._v("：证书包含一个数字签名，用于验证证书的完整性和真实性。数字签名是由证书颁发机构使用其私钥生成的，客户端可以使用证书颁发机构的公钥来验证签名。")])])]),s._v(" "),a("p",[a("code",[s._v("HTTPS")]),s._v(" 证书的工作原理如下：")]),s._v(" "),a("ul",[a("li",[a("p",[a("strong",[s._v("当客户端（通常是 "),a("code",[s._v("Web")]),s._v(" 浏览器）连接到一个使用 "),a("code",[s._v("HTTPS")]),s._v(" 的网站时，服务器会将其证书发送给客户端")]),s._v("。")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("客户端会验证证书的完整性，包括检查数字签名，以确保证书未被篡改并且来自可信任的证书颁发机构")]),s._v("。")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v('客户端使用从服务器证书中提取的公钥来加密一个称为"预主密钥"（'),a("code",[s._v("pre-master secret")]),s._v("）的随机值，并将其发送回服务器")]),s._v("。")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("服务器使用其私钥来解密客户端发送的预主密钥")]),s._v("。")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("服务器和客户端都使用共享的预主密钥来生成会话密钥，用于加密和解密后续的数据传输")]),s._v("。")])])]),s._v(" "),a("p",[a("code",[s._v("HTTPS")]),s._v(" 证书的作用是确保通信双方的数据保密性、完整性和身份验证。")]),s._v(" "),a("p",[s._v("它们为用户提供了信任和安全，因为用户可以通过证书验证网站的真实性，并确保他们与合法网站进行通信，而不是受到中间人攻击。")]),s._v(" "),a("p",[s._v("证书颁发机构是第三方实体，它们对网站的身份进行了验证，并签发了证书，这增强了用户对网站的信任。")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/oneyoung19/vuepress-blog-img/Not-Count-Contribution/img/20230917161953.png",alt:""}})]),s._v(" "),a("h3",{attrs:{id:"_1-1-freessl"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-freessl"}},[s._v("#")]),s._v(" 1-1.freessl")]),s._v(" "),a("p",[s._v("先在"),a("a",{attrs:{href:"https://freessl.cn/",target:"_blank",rel:"noopener noreferrer"}},[s._v("freessl.cn"),a("OutboundLink")],1),s._v("上注册一个账号")]),s._v(" "),a("p",[s._v("然后在平台上添加目标域名:")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/oneyoung19/vuepress-blog-img/main/img/008vxvgGly1h7gkx6xh8nj31hl0u0dii.jpg",alt:""}})]),s._v(" "),a("p",[s._v("下一步，会需要配置 "),a("code",[s._v("DCV")]),s._v("，即 "),a("code",[s._v("Domain Control Verify")]),s._v(":")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/oneyoung19/vuepress-blog-img/main/img/008vxvgGly1h7gkzm35euj31hg0u0n05.jpg",alt:""}})]),s._v(" "),a("p",[s._v("根据图中的记录，在"),a("strong",[s._v("域名控制台")]),s._v("配置解析（以阿里云为例）：")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/oneyoung19/vuepress-blog-img/main/img/008vxvgGly1h7gl1428pmj30u010b0v3.jpg",alt:""}})]),s._v(" "),a("p",[s._v("配置完成之后，会出现最后的部署代码：")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/oneyoung19/vuepress-blog-img/main/img/008vxvgGly1h7gl1zhjp5j31ho0u0n09.jpg",alt:""}})]),s._v(" "),a("p",[s._v("这里提供了两种方式 "),a("code",[s._v("acme.sh")]),s._v(" 和 "),a("code",[s._v("certbot")]),s._v("。")]),s._v(" "),a("h3",{attrs:{id:"_1-2-acme-sh"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-acme-sh"}},[s._v("#")]),s._v(" 1-2.acme.sh")]),s._v(" "),a("p",[s._v("我们以 "),a("code",[s._v("acme.sh")]),s._v(" 为例，先在服务器上安装:")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" https://get.acme.sh "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sh")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),a("p",[s._v("理论上会自动添加一个 "),a("code",[s._v("acme.sh")]),s._v(" 全局应用别名，但有时候会 "),a("code",[s._v("command not found")]),s._v("，需要手动执行 "),a("code",[s._v("source ~/.bashrc")]),s._v(" 或 "),a("code",[s._v("source ~/.bash_profile")]),s._v(" 后再继续。")]),s._v(" "),a("p",[s._v("也可以采用比较笨的方法：重新打开命令行（如果是 "),a("code",[s._v("SSH")]),s._v("，选择重新连接），以使 "),a("code",[s._v("acme.sh")]),s._v(" 命令生效。")])]),s._v(" "),a("p",[s._v("安装 "),a("code",[s._v("acme.sh")]),s._v(" 完成后，在服务器上执行我们之前得到的语句:")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("acme.sh --issue -d test.jsgoshu.cn  --dns dns_dp --server https://acme.freessl.cn/v2/DV90/directory/pqtrrn8aaf7gpgv23h9w\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("执行完成之后，控制台会打印出 "),a("code",[s._v("cert")]),s._v(" 和 "),a("code",[s._v("cert key")]),s._v(" 的安装信息：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("Your cert is in: /root/.acme.sh/test.jsgoshu.cn/test.jsgoshu.cn.cer\nYour cert key is in: /root/.acme.sh/test.jsgoshu.cn/test.jsgoshu.cn.key\nThe intermediate CA cert is in: /root/.acme.sh/test.jsgoshu.cn/ca.cer\nAnd the full chain certs is there: /root/.acme.sh/test.jsgoshu.cn/fullchain.cer\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h3",{attrs:{id:"_1-3-配置nginx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-配置nginx"}},[s._v("#")]),s._v(" 1-3.配置nginx")]),s._v(" "),a("p",[s._v("接下来，就是配置托管服务器，以 "),a("code",[s._v("nginx")]),s._v(" 为例：")]),s._v(" "),a("p",[s._v("在 "),a("code",[s._v("http")]),s._v(" 模块下，新建一个 "),a("code",[s._v("server")]),s._v(" 模块，监听 "),a("code",[s._v("443")]),s._v(" 端口。与 "),a("code",[s._v("80")]),s._v(" 端口的 "),a("code",[s._v("server")]),s._v(" 监听模块是平级的。")]),s._v(" "),a("p",[s._v("然后修改对应的 "),a("code",[s._v("ssl_certificate")]),s._v(" ("),a("strong",[s._v("证书")]),s._v(")和 "),a("code",[s._v("ssl_certificate_key")]),s._v(" ("),a("strong",[s._v("私钥")]),s._v(")即可。")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("server "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  listen       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("443")]),s._v(" ssl http2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  listen       "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("::"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(":443 ssl http2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  server_name  _"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  root         /usr/share/nginx/html"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n  ssl_certificate "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/root/.acme.sh/test.jsgoshu.cn/test.jsgoshu.cn.cer"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  ssl_certificate_key "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/root/.acme.sh/test.jsgoshu.cn/test.jsgoshu.cn.key"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  ssl_session_cache shared:SSL:1m"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  ssl_session_timeout  10m"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  ssl_ciphers HIGH:"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("aNULL:"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("MD5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  ssl_prefer_server_ciphers on"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Load configuration files for the default server block.")]),s._v("\n  include /etc/nginx/default.d/*.conf"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n  error_page "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("404")]),s._v(" /404.html"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      location "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" /40x.html "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n  error_page "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("500")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("502")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("503")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("504")]),s._v(" /50x.html"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    location "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" /50x.html "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br")])]),a("h3",{attrs:{id:"_1-4-http重定向"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-http重定向"}},[s._v("#")]),s._v(" 1-4.http重定向")]),s._v(" "),a("p",[s._v("另外可以优化下 "),a("code",[s._v("http")]),s._v(" 的重定向，以使用户在访问 "),a("code",[s._v("http")]),s._v(" 协议的网站时，自动重定向到 "),a("code",[s._v("https")]),s._v(" 协议：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("server "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  listen       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  listen       "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("::"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(":80"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  server_name  _"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  root         /usr/share/nginx/html"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Load configuration files for the default server block.")]),s._v("\n  include /etc/nginx/default.d/*.conf"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重定向到https")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("301")]),s._v(" https://test.jsgoshu.cn"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$request_uri")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("p",[s._v("最后需要使用 "),a("code",[s._v("nginx -s reload")]),s._v(" 重启 "),a("code",[s._v("nginx")]),s._v("，配置即可生效。")]),s._v(" "),a("p",[s._v("参考文章：")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://blog.freessl.cn/acme-quick-start/",target:"_blank",rel:"noopener noreferrer"}},[s._v("ACME v2证书自动化快速入门"),a("OutboundLink")],1),s._v(" "),a("a",{attrs:{href:"https://www.goozoe.com/posts/8948.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("Let's encrypt 免费证书申请教程"),a("OutboundLink")],1)]),s._v(" "),a("h2",{attrs:{id:"_2-webpack添加ssl"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-webpack添加ssl"}},[s._v("#")]),s._v(" 2.webpack添加SSL")]),s._v(" "),a("p",[s._v("在本地的 "),a("code",[s._v("webpack")]),s._v(" 服务上添加一个免费的 "),a("code",[s._v("SSL")]),s._v(" 证书。")]),s._v(" "),a("h3",{attrs:{id:"_2-1-mkccert"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-mkccert"}},[s._v("#")]),s._v(" 2-1.mkccert")]),s._v(" "),a("p",[s._v("首先，在电脑上安装 "),a("a",{attrs:{href:"https://github.com/FiloSottile/mkcert",target:"_blank",rel:"noopener noreferrer"}},[s._v("mkcert"),a("OutboundLink")],1)]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# macOS")]),s._v("\nbrew "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" mkcert\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("安装完成之后，"),a("code",[s._v('Run "mkcert -install" for certificates to be trusted automatically.')])]),s._v(" "),a("p",[s._v("即"),a("strong",[s._v("必须执行")]),s._v(" "),a("code",[s._v("mkcert --install")]),s._v(" 安装根证书。")]),s._v(" "),a("p",[s._v("这会使得我们后续安装的其他子证书"),a("strong",[s._v("在本机上自动的受信任")]),s._v("。")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),a("p",[s._v("这里的本机含义，指代的是，我们使用该节方式启动的 "),a("code",[s._v("https")]),s._v(" 服务，只能在我们本机上访问。")]),s._v(" "),a("p",[s._v("同一内网下的机器，访问该 "),a("code",[s._v("https")]),s._v(" 服务，依然是不受信任的、不安全的。")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("mkcert --install\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("安装完根证书之后，就可以安装子证书了。")]),s._v(" "),a("ul",[a("li",[s._v("在 "),a("code",[s._v("webpack")]),s._v(" 工程下任意创建一个目录，譬如 "),a("code",[s._v("https")]),s._v("。")]),s._v(" "),a("li",[s._v("进入 "),a("code",[s._v("https")]),s._v(" 目录。")]),s._v(" "),a("li",[s._v("执行 "),a("code",[s._v('mkcert example.com "*.example.com" example.test localhost 127.0.0.1 ::1')]),s._v("。")])]),s._v(" "),a("p",[s._v("以 "),a("code",[s._v("localhost")]),s._v(" 为例：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" https\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" https\n\nmkcert localhost\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),a("p",[s._v("创建子证书，可以使用自定义域名或者任意 "),a("code",[s._v("IP")]),s._v(" 地址。")]),s._v(" "),a("ol",[a("li",[a("code",[s._v("mkcert example.com")])]),s._v(" "),a("li",[a("code",[s._v("mkcert localhost")])]),s._v(" "),a("li",[a("code",[s._v("mkcert 127.0.0.1")])])])]),s._v(" "),a("p",[s._v("执行完之后，在 "),a("code",[s._v("https")]),s._v(" 目录下会额外多俩文件 "),a("code",[s._v("localhost-key.pem")]),s._v(" 和 "),a("code",[s._v("localhost.pem")]),s._v("。")]),s._v(" "),a("h3",{attrs:{id:"_2-2-配置webpack-dev-server"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-配置webpack-dev-server"}},[s._v("#")]),s._v(" 2-2.配置webpack-dev-server")]),s._v(" "),a("p",[s._v("然后配置 "),a("code",[s._v("webpack")]),s._v(" 中的 "),a("code",[s._v("devServer")]),s._v(" 属性：")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" fs "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'fs'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" path "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'path'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  devServer"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    host"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'localhost'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    port"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'5000'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    https"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      key"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" fs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("readFileSync")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("__dirname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./https/localhost-key.pem'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      cert"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" fs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("readFileSync")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("__dirname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./https/localhost.pem'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("p",[s._v("重启 "),a("code",[s._v("webpack")]),s._v(" 服务，应用即可运行在 "),a("code",[s._v("https:localhost:5000")]),s._v("。")])])}),[],!1,null,null,null);t.default=n.exports}}]);