(window.webpackJsonp=window.webpackJsonp||[]).push([[113],{569:function(s,t,e){"use strict";e.r(t);var a=e(40),r=Object(a.a)({},(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("p",[e("code",[s._v("CommonJS")]),s._v(" 是 "),e("code",[s._v("Node")]),s._v(" 应用的模块化规范。")]),s._v(" "),e("p",[s._v("它原先的名字是 "),e("code",[s._v("ServerJS")]),s._v("，顾名思义，指的是服务端的模块化规范。")]),s._v(" "),e("p",[s._v("后来社区为了兼容浏览器端，更名为 "),e("code",[s._v("CommonJS")]),s._v("，意图一统前后端。")]),s._v(" "),e("p",[s._v("不幸的是，社区在指定浏览器的模块化标准上有了分歧，进而衍生了 "),e("code",[s._v("AMD")]),s._v("、"),e("code",[s._v("CMD")]),s._v(" 等等。")]),s._v(" "),e("p",[s._v("更多细节可参考玉伯的"),e("a",{attrs:{href:"https://github.com/seajs/seajs/issues/588",target:"_blank",rel:"noopener noreferrer"}},[s._v("前端模块化开发那点历史"),e("OutboundLink")],1)]),s._v(" "),e("h2",{attrs:{id:"_1-基本用法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-基本用法"}},[s._v("#")]),s._v(" 1.基本用法")]),s._v(" "),e("p",[e("code",[s._v("Node")]),s._v(" 中的模块化用起来非常简单。")]),s._v(" "),e("p",[s._v("导入模块：")]),s._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Node的内置模块")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" path "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'path'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// node_modules中的第三方模块")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" vue "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'vue'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 自定义模块")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" getName "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./utils'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("p",[s._v("导出模块：")]),s._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 利用module.exports")]),s._v("\nmodule"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  msg"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Hello world'")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("p",[s._v("也可以使用 "),e("code",[s._v("exports")]),s._v("：")]),s._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 利用exports")]),s._v("\nexports"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("time "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Date")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h2",{attrs:{id:"_2-module-exports与exports"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-module-exports与exports"}},[s._v("#")]),s._v(" 2.module.exports与exports")]),s._v(" "),e("ol",[e("li",[e("p",[e("code",[s._v("exports")]),s._v(" 默认指向 "),e("code",[s._v("module.exports")]),s._v("，相当于文件头部有一条语句 "),e("code",[s._v("var exports = module.exports")]),s._v("。")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("exports")]),s._v(" 不能重新赋值，会导致指向更改。")])]),s._v(" "),e("li",[e("p",[s._v("同一文件中，"),e("code",[s._v("module.exports")]),s._v(" 与 "),e("code",[s._v("exports")]),s._v(" 不能同时使用。同时使用的话，只有 "),e("code",[s._v("module.exports")]),s._v(" 会起作用。")])]),s._v(" "),e("li",[e("p",[s._v("如果对这两个方式纠结，那么建议统一使用 "),e("code",[s._v("module.exports")]),s._v("。")])])]),s._v(" "),e("h2",{attrs:{id:"_3-require"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-require"}},[s._v("#")]),s._v(" 3.require")]),s._v(" "),e("ol",[e("li",[e("p",[e("code",[s._v("require")]),s._v(" 导入的是初始化拷贝，后续在模块里的更改，并不会影响到值。")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("require")]),s._v(" 同一模块时，模块只会加载一次。后续调用，会从缓存中读取。")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("require")]),s._v(" 是动态读取，即可以在使用的任何地方调用。而 "),e("code",[s._v("EsModule")]),s._v(" 只能写在文件头部。")])])])])}),[],!1,null,null,null);t.default=r.exports}}]);