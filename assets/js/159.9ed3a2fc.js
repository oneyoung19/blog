(window.webpackJsonp=window.webpackJsonp||[]).push([[159],{617:function(e,o,r){"use strict";r.r(o);var t=r(40),v=Object(t.a)({},(function(){var e=this,o=e.$createElement,r=e._self._c||o;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("p",[r("strong",[e._v("代理模式之Proxy")])]),e._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://es6.ruanyifeng.com/#docs/proxy",target:"_blank",rel:"noopener noreferrer"}},[e._v("Proxy"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://es6.ruanyifeng.com/#docs/reflect",target:"_blank",rel:"noopener noreferrer"}},[e._v("Reflect"),r("OutboundLink")],1)])]),e._v(" "),r("p",[r("code",[e._v("const proxy = new Proxy(target, handler)")])]),e._v(" "),r("p",[r("code",[e._v("target")]),e._v(" 可以是任意的对象（包括数组、函数等）。")]),e._v(" "),r("p",[r("code",[e._v("handler")]),e._v(" 是一个可包含以下属性的对象：")]),e._v(" "),r("ol",[r("li",[r("p",[r("code",[e._v("get(target, propKey, receiver)")]),e._v("：拦截对象属性的读取，比如 "),r("code",[e._v("proxy.foo")]),e._v(" 和 "),r("code",[e._v("proxy['foo']")]),e._v("。"),r("code",[e._v("receiver")]),e._v(" 参数就是 "),r("code",[e._v("Proxy")]),e._v(" 实例")])]),e._v(" "),r("li",[r("p",[r("code",[e._v("set(target, propKey, value, receiver)")]),e._v("：拦截对象属性的设置，比如 "),r("code",[e._v("proxy.foo = v")]),e._v(" 或 "),r("code",[e._v("proxy['foo'] = v")]),e._v("，返回一个布尔值。")])]),e._v(" "),r("li",[r("p",[r("code",[e._v("has(target, propKey)")]),e._v("：拦截 "),r("code",[e._v("propKey in proxy")]),e._v(" 的操作，返回一个布尔值。")])]),e._v(" "),r("li",[r("p",[r("code",[e._v("deleteProperty(target, propKey)")]),e._v("：拦截 "),r("code",[e._v("delete proxy[propKey]")]),e._v(" 的操作，返回一个布尔值。")])]),e._v(" "),r("li",[r("p",[r("code",[e._v("ownKeys(target)")]),e._v("：拦截 "),r("code",[e._v("Object.getOwnPropertyNames(proxy)")]),e._v("、"),r("code",[e._v("Object.getOwnPropertySymbols(proxy)")]),e._v("、"),r("code",[e._v("Object.keys(proxy)")]),e._v("、"),r("code",[e._v("for...in")]),e._v(" 循环，返回一个数组。该方法返回目标对象所有自身的属性的属性名，而 "),r("code",[e._v("Object.keys()")]),e._v(" 的返回结果仅包括目标对象自身的可遍历属性。")])]),e._v(" "),r("li",[r("p",[r("code",[e._v("getOwnPropertyDescriptor(target, propKey)")]),e._v("：拦截 "),r("code",[e._v("Object.getOwnPropertyDescriptor(proxy, propKey)")]),e._v("，返回属性的描述对象。")])]),e._v(" "),r("li",[r("p",[r("code",[e._v("defineProperty(target, propKey, propDesc)")]),e._v("：拦截 "),r("code",[e._v("Object.defineProperty(proxy, propKey, propDesc）")]),e._v("、"),r("code",[e._v("Object.defineProperties(proxy, propDescs)")]),e._v("，返回一个布尔值。")])]),e._v(" "),r("li",[r("p",[r("code",[e._v("preventExtensions(target)")]),e._v("：拦截 "),r("code",[e._v("Object.preventExtensions(proxy)")]),e._v("，返回一个布尔值。")])]),e._v(" "),r("li",[r("p",[r("code",[e._v("getPrototypeOf(target)")]),e._v("：拦截 "),r("code",[e._v("Object.getPrototypeOf(proxy)")]),e._v("，返回一个对象。")])]),e._v(" "),r("li",[r("p",[r("code",[e._v("isExtensible(target)")]),e._v("：拦截 "),r("code",[e._v("Object.isExtensible(proxy)")]),e._v("，返回一个布尔值。")])]),e._v(" "),r("li",[r("p",[r("code",[e._v("setPrototypeOf(target, proto)")]),e._v("：拦截 "),r("code",[e._v("Object.setPrototypeOf(proxy, proto)")]),e._v("，返回一个布尔值。如果目标对象是函数，那么还有两种额外操作可以拦截。")])]),e._v(" "),r("li",[r("p",[r("code",[e._v("apply(target, object, args)")]),e._v("：拦截 "),r("code",[e._v("Proxy")]),e._v(" 实例作为函数调用的操作，比如 "),r("code",[e._v("proxy(...args)")]),e._v("、"),r("code",[e._v("proxy.call(object, ...args)、proxy.apply(...)")]),e._v("。")])]),e._v(" "),r("li",[r("p",[r("code",[e._v("construct(target, args)")]),e._v("：拦截 "),r("code",[e._v("Proxy")]),e._v(" 实例作为构造函数调用的操作，比如 "),r("code",[e._v("new proxy(...args)")]),e._v("。")])])])])}),[],!1,null,null,null);o.default=v.exports}}]);