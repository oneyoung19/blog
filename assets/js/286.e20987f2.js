(window.webpackJsonp=window.webpackJsonp||[]).push([[286],{744:function(e,t,a){"use strict";a.r(t);var s=a(40),r=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("p",[e._v("本节总结 "),a("code",[e._v("CLI")]),e._v(" 工具的相关"),a("a",{attrs:{href:"https://prettier.io/docs/en/cli",target:"_blank",rel:"noopener noreferrer"}},[e._v("选项配置"),a("OutboundLink")],1),e._v("。")]),e._v(" "),a("h2",{attrs:{id:"_1-check"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-check"}},[e._v("#")]),e._v(" 1. "),a("code",[e._v("--check")])]),e._v(" "),a("p",[e._v("检测代码，但不进行修复。只会报告错误")]),e._v(" "),a("h2",{attrs:{id:"_2-write"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-write"}},[e._v("#")]),e._v(" 2. "),a("code",[e._v("--write")])]),e._v(" "),a("p",[e._v("检测代码，并进行修复。")]),e._v(" "),a("h2",{attrs:{id:"_3-debug-check"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-debug-check"}},[e._v("#")]),e._v(" 3. "),a("code",[e._v("--debug-check")])]),e._v(" "),a("blockquote",[a("p",[e._v("If you're worried that Prettier will change the correctness of your code, add --debug-check to the command.")])]),e._v(" "),a("blockquote",[a("p",[e._v("This will cause Prettier to print an error message if it detects that code correctness might have changed.")])]),e._v(" "),a("blockquote",[a("p",[e._v("Note that --write cannot be used with --debug-check.")])]),e._v(" "),a("p",[e._v("以上引用是"),a("a",{attrs:{href:"https://prettier.io/docs/en/cli#--debug-check",target:"_blank",rel:"noopener noreferrer"}},[e._v("官方网站原话"),a("OutboundLink")],1),e._v("。")]),e._v(" "),a("p",[e._v("笔者测试了下，很多场景不怎么生效，用途不大。")]),e._v(" "),a("h2",{attrs:{id:"_4-find-config-path"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-find-config-path"}},[e._v("#")]),e._v(" 4. "),a("code",[e._v("--find-config-path")])]),e._v(" "),a("p",[e._v("找出启用的 "),a("code",[e._v("config")]),e._v(" 文件路径")]),e._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[e._v("npx prettier --find-config-path src/main.js\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v('# It will maybe print ".prettierrc.js"')]),e._v("\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br")])]),a("h2",{attrs:{id:"_5-config"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-config"}},[e._v("#")]),e._v(" 5. "),a("code",[e._v("--config")])]),e._v(" "),a("p",[e._v("设置指定的 "),a("code",[e._v("config")]),e._v(" 目录或文件")]),e._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[e._v("npx prettier "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(".")]),e._v(" --write --config path/to/config\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("h2",{attrs:{id:"_6-ignore-path"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-ignore-path"}},[e._v("#")]),e._v(" 6. "),a("code",[e._v("--ignore-path")])]),e._v(" "),a("p",[e._v("忽略文件")]),e._v(" "),a("h2",{attrs:{id:"_7-list-different"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-list-different"}},[e._v("#")]),e._v(" 7. "),a("code",[e._v("--list-different")])]),e._v(" "),a("p",[e._v("类似于 "),a("code",[e._v("--check")]),e._v("，但是信息更加精简，只会列出不合规范的目标文件，没有其他多余信息。")]),e._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[e._v("npx prettier "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(".")]),e._v(" --single-quote --list-different\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("h2",{attrs:{id:"_8-no-config"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-no-config"}},[e._v("#")]),e._v(" 8. "),a("code",[e._v("--no-config")])]),e._v(" "),a("p",[e._v("不再寻找配置文件，只会使用 "),a("code",[e._v("prettier")]),e._v(" 的内置配置。")]),e._v(" "),a("h2",{attrs:{id:"_9-config-precedence"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9-config-precedence"}},[e._v("#")]),e._v(" 9. "),a("code",[e._v("--config-precedence")])]),e._v(" "),a("p",[e._v("设置配置的优先级。有以下几种选项：")]),e._v(" "),a("ol",[a("li",[a("p",[a("code",[e._v("cli-override")]),e._v("： "),a("strong",[e._v("默认")]),e._v("，"),a("code",[e._v("CLI")]),e._v(" 选项配置的优先级高于 "),a("code",[e._v("config")]),e._v(" 文件；")])]),e._v(" "),a("li",[a("p",[a("code",[e._v("file-override")]),e._v("： "),a("code",[e._v("config")]),e._v(" 文件的优先级高于 "),a("code",[e._v("CLI")]),e._v(" 选项配置；")])]),e._v(" "),a("li",[a("p",[a("code",[e._v("prefer-file")]),e._v(": 如果 "),a("code",[e._v("config")]),e._v(" 文件存在的话，会忽略 "),a("code",[e._v("CLI")]),e._v(" 选项配置。否则，会采用 "),a("code",[e._v("CLI")]),e._v(" 选项配置。")])])]),e._v(" "),a("h2",{attrs:{id:"_10-no-editorconfig"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_10-no-editorconfig"}},[e._v("#")]),e._v(" 10. "),a("code",[e._v("--no-editorconfig")])]),e._v(" "),a("p",[e._v("当调用 "),a("code",[e._v("resolveConfig")]),e._v(" 时，不解析 "),a("code",[e._v(".editorconfig")]),e._v(" 文件。")]),e._v(" "),a("p",[e._v("阅读"),a("a",{attrs:{href:"https://prettier.io/docs/en/api#prettierresolveconfigfilepath--options",target:"_blank",rel:"noopener noreferrer"}},[e._v("resolveConfig"),a("OutboundLink")],1),e._v("。")]),e._v(" "),a("h2",{attrs:{id:"_11-with-node-modules"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_11-with-node-modules"}},[e._v("#")]),e._v(" 11. "),a("code",[e._v("--with-node-modules")])]),e._v(" "),a("p",[a("code",[e._v("Prettier")]),e._v(" 默认会忽略检测 "),a("code",[e._v("node_modules")]),e._v(" 下的文件。")]),e._v(" "),a("p",[e._v("如果想要更改上述情形的话，可以使用 "),a("code",[e._v("--with-node-modules")]),e._v("。")]),e._v(" "),a("h2",{attrs:{id:"_12-log-level"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_12-log-level"}},[e._v("#")]),e._v(" 12. "),a("code",[e._v("--log-level")])]),e._v(" "),a("p",[e._v("日志等级，有以下可配置选项：")]),e._v(" "),a("ol",[a("li",[a("code",[e._v("error")])]),e._v(" "),a("li",[a("code",[e._v("warn")])]),e._v(" "),a("li",[a("code",[e._v("log")]),e._v(" 默认")]),e._v(" "),a("li",[a("code",[e._v("debug")])]),e._v(" "),a("li",[a("code",[e._v("silent")])])]),e._v(" "),a("h2",{attrs:{id:"_13-stdin-filepath"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_13-stdin-filepath"}},[e._v("#")]),e._v(" 13. "),a("code",[e._v("--stdin-filepath")])]),e._v(" "),a("p",[e._v("声明文件路径，"),a("code",[e._v("Prettier")]),e._v(" 会将其当做 "),a("code",[e._v("stdin")]),e._v(" 处理：")]),e._v(" "),a("div",{staticClass:"language-css line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("/* abc.css */")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[e._v(".name")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v("display")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" none"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br")])]),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[e._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cat")]),e._v(" abc.css "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" prettier --stdin-filepath abc.css\n.name "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  display: none"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br")])]),a("h2",{attrs:{id:"_14-ignore-unknown"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_14-ignore-unknown"}},[e._v("#")]),e._v(" 14. "),a("code",[e._v("--ignore-unknown")])]),e._v(" "),a("p",[e._v("用来忽略无法识别的文件类型。")]),e._v(" "),a("p",[e._v("假设某文件为 "),a("code",[e._v("unknown.abc")]),e._v("，"),a("code",[e._v("Prettier")]),e._v(" 指令为 "),a("code",[e._v("prettier **/* --write")]),e._v("。")]),e._v(" "),a("p",[e._v("此时，执行指令，会报错：")]),e._v(" "),a("div",{staticClass:"language-s line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('[error] No parser could be inferred for file "/path/to/unknown.abc".\n')])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("p",[e._v("为了保证指令的正常执行，可以修改指令为 "),a("code",[e._v("prettier **/* --write --ignore-unknown")]),e._v("。")]),e._v(" "),a("h2",{attrs:{id:"_15-no-error-on-unmatched-pattern"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_15-no-error-on-unmatched-pattern"}},[e._v("#")]),e._v(" 15. "),a("code",[e._v("--no-error-on-unmatched-pattern")])]),e._v(" "),a("p",[e._v("当某文件类型无法识别时，阻止报错。")]),e._v(" "),a("p",[e._v("譬如 "),a("code",[e._v("prettier **/* --write --no-error-on-unmatched-pattern")]),e._v("。")]),e._v(" "),a("h2",{attrs:{id:"_16-cache"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_16-cache"}},[e._v("#")]),e._v(" 16. "),a("code",[e._v("--cache")])]),e._v(" "),a("p",[e._v("运行 "),a("code",[e._v("Prettier")]),e._v(" 时，使用 "),a("code",[e._v("cache")]),e._v(" 缓存。")]),e._v(" "),a("p",[e._v("除非以下几项变化：")]),e._v(" "),a("ol",[a("li",[a("p",[a("code",[e._v("Prettier")]),e._v(" 版本")])]),e._v(" "),a("li",[a("p",[a("code",[e._v("Node.js")]),e._v(" 版本")])]),e._v(" "),a("li",[a("p",[a("code",[e._v("Options")])])]),e._v(" "),a("li",[a("p",[a("code",[e._v("file metadata")]),e._v("，当设置 "),a("code",[e._v("--cache-strategy")]),e._v(" 为 "),a("code",[e._v("metadata")])])]),e._v(" "),a("li",[a("p",[a("code",[e._v("file content")]),e._v("，当设置 "),a("code",[e._v("--cache-strategy")]),e._v(" 为 "),a("code",[e._v("content")])])])]),e._v(" "),a("h2",{attrs:{id:"_17-cache-location"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_17-cache-location"}},[e._v("#")]),e._v(" 17. "),a("code",[e._v("--cache-location")])]),e._v(" "),a("p",[e._v("默认的 "),a("code",[e._v("cache")]),e._v(" 目录为 "),a("code",[e._v("./node_modules/.cache/prettier/.prettier-cache")]),e._v("，可以通过 "),a("code",[e._v("--cache-location")]),e._v(" 来自定义缓存目录。")]),e._v(" "),a("p",[e._v("譬如：")]),e._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[e._v("prettier "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(".")]),e._v(" --write --cache --cache-location"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("path/to/cache-file\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("p",[a("strong",[e._v("如果不想使用 "),a("code",[e._v("cache")]),e._v(" 的话，可以将缓存目录删除，重新执行指令")]),e._v("。")]),e._v(" "),a("h2",{attrs:{id:"_18-cache-strategy"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_18-cache-strategy"}},[e._v("#")]),e._v(" 18. "),a("code",[e._v("--cache-strategy")])]),e._v(" "),a("p",[e._v("用来判断文件是否发生更新的缓存策略。")]),e._v(" "),a("p",[e._v("可以设置为 "),a("code",[e._v("metadata")]),e._v(" 或 "),a("code",[e._v("content")]),e._v("。默认为 "),a("code",[e._v("content")]),e._v("。")])])}),[],!1,null,null,null);t.default=r.exports}}]);