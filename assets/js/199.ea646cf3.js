(window.webpackJsonp=window.webpackJsonp||[]).push([[199],{659:function(e,t,r){"use strict";r.r(t);var v=r(40),_=Object(v.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("p",[r("code",[e._v("SSE")]),e._v(" 全称为 "),r("code",[e._v("Server-sent Events")]),e._v("。即"),r("strong",[e._v("服务端推送事件")]),e._v("。")]),e._v(" "),r("p",[e._v("在实际业务中，我们可以利用 "),r("code",[e._v("SSE")]),e._v(" 向客户端不间断的推送实时信息。")]),e._v(" "),r("h2",{attrs:{id:"_1-优点"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-优点"}},[e._v("#")]),e._v(" 1.优点")]),e._v(" "),r("p",[r("code",[e._v("SSE")]),e._v(" 具有以下特点：")]),e._v(" "),r("ol",[r("li",[r("strong",[e._v("单向通信")]),e._v("。只能由服务端向客户端推动消息。而 "),r("code",[e._v("websocket")]),e._v(" 属于全双工通信；")]),e._v(" "),r("li",[r("strong",[e._v("依赖HTTP协议")]),e._v("。而 "),r("code",[e._v("websocket")]),e._v(" 依赖的是 "),r("code",[e._v("ws")]),e._v(" 或者 "),r("code",[e._v("wss")]),e._v(" 协议；")]),e._v(" "),r("li",[r("strong",[e._v("传输数据只能是文本数据")]),e._v("。而 "),r("code",[e._v("websocket")]),e._v(" 可以传输二进制和文本数据；")]),e._v(" "),r("li",[r("strong",[e._v("持久化连接")]),e._v("。与 "),r("code",[e._v("websocket")]),e._v(" 类似，"),r("code",[e._v("Connection")]),e._v(" 的值为 "),r("code",[e._v("keep-alive")]),e._v("；（"),r("strong",[e._v("且 "),r("code",[e._v("SSE")]),e._v(" 的连接，客户端会不断发送请求，除非显示调用 "),r("code",[e._v("source.close()")]),e._v(" 实例方法关闭连接")]),e._v("。）")]),e._v(" "),r("li",[r("strong",[e._v("特有的重连机制")]),e._v("。在网络不好或者连接出错时，"),r("code",[e._v("SSE")]),e._v(" 会自动 "),r("code",[e._v("retry")]),e._v(" 连接。")])]),e._v(" "),r("h2",{attrs:{id:"_2-缺点"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-缺点"}},[e._v("#")]),e._v(" 2.缺点")]),e._v(" "),r("p",[e._v("由于 "),r("code",[e._v("SSE")]),e._v(" 依赖 "),r("code",[e._v("HTTP")]),e._v(" 协议的"),r("a",{attrs:{href:"https://en.wikipedia.org/wiki/HTTP_persistent_connection",target:"_blank",rel:"noopener noreferrer"}},[e._v("keep-alive"),r("OutboundLink")],1),e._v("长连接，")]),e._v(" "),r("p",[e._v("而 "),r("code",[e._v("keep-alive")]),e._v(" 长连接在浏览器客户端的并发量是有上限的。一般上限为 "),r("code",[e._v("6")]),e._v("。")]),e._v(" "),r("p",[e._v("因此，在业务开发中，如果同时存在超上限的连接数，有可能会出现网络阻塞。")]),e._v(" "),r("h2",{attrs:{id:"_3-兼容性"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3-兼容性"}},[e._v("#")]),e._v(" 3.兼容性")]),e._v(" "),r("p",[r("a",{attrs:{href:"https://caniuse.com/eventsource",target:"_blank",rel:"noopener noreferrer"}},[e._v("caniuse.com"),r("OutboundLink")],1)]),e._v(" "),r("p",[r("img",{attrs:{src:"https://raw.githubusercontent.com/oneyoung19/vuepress-blog-img/Not-Count-Contribution/img/20240509163849.png",alt:""}})]),e._v(" "),r("h2",{attrs:{id:"_3-参考文档"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3-参考文档"}},[e._v("#")]),e._v(" 3.参考文档")]),e._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events",target:"_blank",rel:"noopener noreferrer"}},[e._v("MDN"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://www.ruanyifeng.com/blog/2017/05/server-sent_events.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Server-Sent Events 教程——阮一峰"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://zh.javascript.info/server-sent-events",target:"_blank",rel:"noopener noreferrer"}},[e._v("现代教程之Server Sent Events"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://segmentfault.com/a/1190000019697463",target:"_blank",rel:"noopener noreferrer"}},[e._v("你可能不知道的浏览器实时通信方案"),r("OutboundLink")],1)])])])}),[],!1,null,null,null);t.default=_.exports}}]);