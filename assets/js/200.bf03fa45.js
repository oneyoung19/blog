(window.webpackJsonp=window.webpackJsonp||[]).push([[200],{659:function(e,_,t){"use strict";t.r(_);var a=t(40),s=Object(a.a)({},(function(){var e=this,_=e.$createElement,t=e._self._c||_;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("p",[e._v("基础使用方式：")]),e._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("new")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("Websocket")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("url"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("protocols"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("h2",{attrs:{id:"_1-实例属性"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-实例属性"}},[e._v("#")]),e._v(" 1.实例属性")]),e._v(" "),t("h3",{attrs:{id:"_1-1-protocol"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-protocol"}},[e._v("#")]),e._v(" 1-1.protocol")]),e._v(" "),t("p",[t("code",[e._v("protocol")]),e._v(" 只读属性返回服务器选择的子协议的名称。")]),e._v(" "),t("h3",{attrs:{id:"_1-2-url"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-url"}},[e._v("#")]),e._v(" 1-2.url")]),e._v(" "),t("p",[t("code",[e._v("url")]),e._v(" 只读属性返回由构造函数解析的 "),t("code",[e._v("Websocket")]),e._v(" 的绝对 "),t("code",[e._v("URL")]),e._v("。")]),e._v(" "),t("h3",{attrs:{id:"_1-3-readystate"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-readystate"}},[e._v("#")]),e._v(" 1-3.readyState")]),e._v(" "),t("p",[t("code",[e._v("readyState")]),e._v(" 只读属性返回 "),t("code",[e._v("Websocket")]),e._v(" 连接的当前状态。")]),e._v(" "),t("p",[e._v("有以下几种值：")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("0")]),e._v(" "),t("code",[e._v("CONNECTING")]),e._v(" 连接中")]),e._v(" "),t("li",[t("code",[e._v("1")]),e._v(" "),t("code",[e._v("OPEN")]),e._v(" 连接开启")]),e._v(" "),t("li",[t("code",[e._v("2")]),e._v(" "),t("code",[e._v("CLOSING")]),e._v(" 连接关闭中")]),e._v(" "),t("li",[t("code",[e._v("3")]),e._v(" "),t("code",[e._v("CLOSED")]),e._v(" 连接已关闭")])]),e._v(" "),t("h3",{attrs:{id:"_1-4-extensions"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-extensions"}},[e._v("#")]),e._v(" 1-4.extensions")]),e._v(" "),t("p",[t("code",[e._v("extensions")]),e._v(" 只读属性返回服务器选择的扩展。")]),e._v(" "),t("h3",{attrs:{id:"_1-5-binarytype"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-binarytype"}},[e._v("#")]),e._v(" 1-5.binaryType")]),e._v(" "),t("p",[t("code",[e._v("binaryType")]),e._v(" 属性控制通过 "),t("code",[e._v("Websocket")]),e._v(" 连接接收的二进制数据的类型。")]),e._v(" "),t("h3",{attrs:{id:"_1-6-bufferedamount"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-bufferedamount"}},[e._v("#")]),e._v(" 1-6.bufferedAmount")]),e._v(" "),t("p",[t("code",[e._v("bufferedAmount")]),e._v(" 只读属性返回已使用 "),t("code",[e._v("send()")]),e._v(" 调用排队但尚未传输到网络的数据字节数。")]),e._v(" "),t("p",[e._v("一旦所有排队数据发送完毕，该值将重置为零。连接关闭时该值不会重置为零；如果你继续调用 "),t("code",[e._v("send()")]),e._v(" ，这个值将会继续攀升。")]),e._v(" "),t("h2",{attrs:{id:"_2-实例方法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-实例方法"}},[e._v("#")]),e._v(" 2.实例方法")]),e._v(" "),t("h3",{attrs:{id:"_2-1-send"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-send"}},[e._v("#")]),e._v(" 2-1.send()")]),e._v(" "),t("p",[t("code",[e._v("send()")]),e._v(" 方法将要通过 "),t("code",[e._v("WebSocket")]),e._v(" 连接传输到服务器的指定数据排入队列，并将 "),t("code",[e._v("bufferedAmount")]),e._v(" 的值增加包含该数据所需的字节数。")]),e._v(" "),t("p",[e._v("如果数据无法发送（例如需要缓冲但缓冲区已满），则套接字会自动关闭。如果在连接处于 "),t("code",[e._v("CONNECTING")]),e._v(" 状态时调用 "),t("code",[e._v("send()")]),e._v(" ，浏览器将抛出异常。")]),e._v(" "),t("p",[e._v("如果在连接处于 "),t("code",[e._v("CLOSING")]),e._v(" 或 "),t("code",[e._v("CLOSED")]),e._v(" 状态时调用 "),t("code",[e._v("send()")]),e._v(" ，浏览器将默默地丢弃数据。")]),e._v(" "),t("h3",{attrs:{id:"_2-2-close"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-close"}},[e._v("#")]),e._v(" 2-2.close()")]),e._v(" "),t("p",[t("code",[e._v("close()")]),e._v(" 方法关闭 "),t("code",[e._v("WebSocket")]),e._v(" 连接或连接尝试（如果有）。")]),e._v(" "),t("p",[e._v("如果连接已经是 "),t("code",[e._v("CLOSED")]),e._v(" ，则此方法不执行任何操作。")]),e._v(" "),t("h2",{attrs:{id:"_3-事件监听"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-事件监听"}},[e._v("#")]),e._v(" 3.事件监听")]),e._v(" "),t("h3",{attrs:{id:"_3-1-open"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-open"}},[e._v("#")]),e._v(" 3-1.open")]),e._v(" "),t("p",[e._v("监听连接已打开。")]),e._v(" "),t("h3",{attrs:{id:"_3-2-message"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-message"}},[e._v("#")]),e._v(" 3-2.message")]),e._v(" "),t("p",[e._v("监听信息传输。")]),e._v(" "),t("h3",{attrs:{id:"_3-3-close"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-close"}},[e._v("#")]),e._v(" 3-3.close")]),e._v(" "),t("p",[e._v("监听连接关闭。")]),e._v(" "),t("h3",{attrs:{id:"_3-4-error"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-error"}},[e._v("#")]),e._v(" 3-4.error")]),e._v(" "),t("p",[e._v("监听连接出错。")])])}),[],!1,null,null,null);_.default=s.exports}}]);