(window.webpackJsonp=window.webpackJsonp||[]).push([[355],{813:function(s,t,n){"use strict";n.r(t);var a=n(40),e=Object(a.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("p",[s._v("假设我们有一个 "),n("code",[s._v("Vue")]),s._v(" 单文件组件 "),n("code",[s._v("Toast.vue")]),s._v("， 我们不想通过 "),n("code",[s._v("<Toast />")]),s._v(" 的方式来使用它，而是想通过 "),n("code",[s._v("this.$toast()")]),s._v(" 的方式来使用它。")]),s._v(" "),n("p",[s._v("那么也就是说 "),n("code",[s._v("this.$toast()")]),s._v(" 触发时，我们需要手动创建一个 "),n("code",[s._v("Toast")]),s._v(" 组件实例，并将其挂载到目标元素下。")]),s._v(" "),n("p",[s._v("如果我们想要实现上述功能，就需要用到 "),n("code",[s._v("Vue.extend")]),s._v("。")]),s._v(" "),n("p",[s._v("但在此之前，我们需要了解 "),n("code",[s._v("Vue")]),s._v(" 实例的 "),n("code",[s._v("$el")]),s._v(" 和 "),n("code",[s._v("$mount")]),s._v(" 方法。")]),s._v(" "),n("h2",{attrs:{id:"_16-1-el"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_16-1-el"}},[s._v("#")]),s._v(" 16-1.$el")]),s._v(" "),n("p",[n("code",[s._v("$el")]),s._v(" 是 "),n("code",[s._v("Vue")]),s._v(" 实例的一个属性，表示"),n("strong",[s._v("当前 "),n("code",[s._v("Vue")]),s._v(" 实例使用的根 "),n("code",[s._v("DOM")]),s._v(" 元素")]),s._v("。")]),s._v(" "),n("p",[s._v("有两个注意点：")]),s._v(" "),n("ol",[n("li",[s._v("如果 "),n("code",[s._v("Vue")]),s._v(" 实例在实例化时没有声明 "),n("code",[s._v("el")]),s._v(" 选项，则它处于“未挂载”状态，"),n("code",[s._v("vm.$el")]),s._v(" 为 "),n("code",[s._v("undefined")]),s._v("。")]),s._v(" "),n("li",[s._v("如果 "),n("code",[s._v("Vue")]),s._v(" 实例在实例化没有声明 "),n("code",[s._v("el")]),s._v(" 选项，且调用 "),n("code",[s._v("vm.$mount()")]),s._v(" 方法时没有提供 "),n("code",[s._v("elementOrSelector")]),s._v(" 参数，则 "),n("code",[s._v("vm.$el")]),s._v(" 为 "),n("code",[s._v("undefined")]),s._v("。")])]),s._v(" "),n("h2",{attrs:{id:"_16-2-mount"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_16-2-mount"}},[s._v("#")]),s._v(" 16-2.$mount")]),s._v(" "),n("p",[s._v("基础语法如下：")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[s._v("vm"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("$mount")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("elementOrSelector"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("实现一个组件实例的挂载，一共有以下 "),n("code",[s._v("3")]),s._v(" 种方式：")]),s._v(" "),n("ol",[n("li",[n("p",[s._v("在组件实例化时传入 "),n("code",[s._v("el")]),s._v(" 选项。")])]),s._v(" "),n("li",[n("p",[s._v("使用 "),n("code",[s._v("vm.$mount([elementOrSelector])")]),s._v(" 手动地挂载一个未挂载的实例。")])]),s._v(" "),n("li",[n("p",[s._v("如果没有提供 "),n("code",[s._v("elementOrSelector")]),s._v(" 参数，模板将被渲染为文档之外的元素，那么我们可以使用原生 "),n("code",[s._v("DOM API")]),s._v(" 把它插入文档中。")])])]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 1")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" vm "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Vue")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  el"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'#app'")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 2")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" vm "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Vue")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nvm"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("$mount")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'#app'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 3")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" vm "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Vue")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nvm"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("$mount")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\ndocument"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("body"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("appendChild")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("vm"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("$el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br")])]),n("h2",{attrs:{id:"_16-3-vue-extend"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_16-3-vue-extend"}},[s._v("#")]),s._v(" 16-3.Vue.extend")]),s._v(" "),n("p",[n("code",[s._v("Vue.extend")]),s._v(" 用于创建一个 "),n("code",[s._v("Vue")]),s._v(" 组件的子类。它返回的是一个扩展实例构造器。")]),s._v(" "),n("p",[s._v("基本语法如下：")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" SubConstructor "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Vue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("extend")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("options"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" subInstance "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SubConstructor")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nsubInstance"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("$mount")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\ndocument"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("body"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("appendChild")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("subInstance"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("$el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);