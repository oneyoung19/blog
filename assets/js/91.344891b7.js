(window.webpackJsonp=window.webpackJsonp||[]).push([[91],{554:function(t,s,a){"use strict";a.r(s);var e=a(40),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[t._v("这一节主要来探讨下页面能够滚动的原因以及方式。")]),t._v(" "),a("p",[a("code",[t._v("Element.getBoundingClientRect()")])]),t._v(" "),a("h2",{attrs:{id:"_1-页面滚动原因"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-页面滚动原因"}},[t._v("#")]),t._v(" 1.页面滚动原因")]),t._v(" "),a("p",[t._v("根据"),a("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Document/scroll_event",target:"_blank",rel:"noopener noreferrer"}},[t._v("MDN"),a("OutboundLink")],1),t._v("定义:")]),t._v(" "),a("p",[a("strong",[t._v("文档视图")]),t._v("或者"),a("strong",[t._v("一个元素在滚动")]),t._v("时，会触发元素的 "),a("code",[t._v("scroll")]),t._v(" 事件。")]),t._v(" "),a("p",[t._v("所以，我们将页面滚动可以分为两种情况：")]),t._v(" "),a("ol",[a("li",[a("code",[t._v("document")]),t._v(" 文档滚动")]),t._v(" "),a("li",[t._v("某一 "),a("code",[t._v("element")]),t._v(" 内部滚动")])]),t._v(" "),a("p",[a("strong",[t._v("前者的页面滚动原因，是元素超出了视口范围，浏览器默认产生的滚动效果")]),t._v("。")]),t._v(" "),a("p",[a("strong",[t._v("后者的页面滚动原因，是子元素超出了固定范围（定宽或者定高）的容器，而容器需要设置 "),a("code",[t._v("overflow: scroll;")])]),t._v("。")]),t._v(" "),a("p",[t._v("而这俩种形式的滚动，其涉及到的事件监听是有区别的。")]),t._v(" "),a("h2",{attrs:{id:"_2-页面滚动事件监听"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-页面滚动事件监听"}},[t._v("#")]),t._v(" 2.页面滚动事件监听")]),t._v(" "),a("p",[t._v("事件阶段分为"),a("strong",[t._v("事件捕获")]),t._v("和"),a("strong",[t._v("事件冒泡")]),t._v("。")]),t._v(" "),a("p",[a("code",[t._v("scroll")]),t._v(" 事件的捕获阶段，在两种场景下是表现一致的。")]),t._v(" "),a("p",[t._v("而 "),a("code",[t._v("scroll")]),t._v(" 事件的冒泡阶段，在两种场景下（"),a("code",[t._v("document")]),t._v(" 或者 "),a("code",[t._v("element")]),t._v("）表现不同。")]),t._v(" "),a("p",[t._v("假如是 "),a("code",[t._v("document")]),t._v("，此时，事件冒泡会冒泡到 "),a("code",[t._v("document")]),t._v(" 和 "),a("code",[t._v("window")]),t._v("。")]),t._v(" "),a("p",[t._v("（但 "),a("code",[t._v("document")]),t._v(" 和 "),a("code",[t._v("window")]),t._v(" 都是顶级对象，可以看做是一体的。）")]),t._v(" "),a("p",[t._v("假如是 "),a("code",[t._v("element")]),t._v("，此时，事件冒泡只会冒泡到 "),a("code",[t._v("element")]),t._v("，并不会冒泡到 "),a("code",[t._v("document")]),t._v(" 和 "),a("code",[t._v("window")]),t._v("。")]),t._v(" "),a("p",[t._v("关于这个结论，可以稍显粗暴的总结成，"),a("strong",[a("code",[t._v("scroll")]),t._v(" 事件的冒泡阶段只会触发一次")]),t._v("。")]),t._v(" "),a("p",[t._v("本节参考文章：")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://ayase.moe/2018/11/20/scroll-event/",target:"_blank",rel:"noopener noreferrer"}},[t._v("你所不知道的scroll事件：为什么scroll事件会失效？"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://taylor-chan.github.io/2019/06/10/%E6%9C%89%E4%BA%9B%E2%80%9C%E5%A5%87%E6%80%AA%E2%80%9D%E7%9A%84scroll%E4%BA%8B%E4%BB%B6%E7%9B%91%E5%90%AC/",target:"_blank",rel:"noopener noreferrer"}},[t._v("有些“奇怪”的scroll事件监听"),a("OutboundLink")],1)])]),t._v(" "),a("h3",{attrs:{id:"_2-1-document-滚动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-document-滚动"}},[t._v("#")]),t._v(" 2-1."),a("code",[t._v("document")]),t._v(" 滚动")]),t._v(" "),a("p",[t._v("可以点击本例，进行实际测试 "),a("code",[t._v("console")]),t._v(":")]),t._v(" "),a("iframe",{staticStyle:{width:"100%"},attrs:{height:"300",scrolling:"no",title:"Untitled",src:"https://codepen.io/code1994/embed/xxjxmZd?default-tab=html%2Cresult",frameborder:"no",loading:"lazy",allowtransparency:"true",allowfullscreen:"true"}},[t._v("\n  See the Pen "),a("a",{attrs:{href:"https://codepen.io/code1994/pen/xxjxmZd"}},[t._v("\n  Untitled")]),t._v(" by Code1994 ("),a("a",{attrs:{href:"https://codepen.io/code1994"}},[t._v("@code1994")]),t._v(")\n  on "),a("a",{attrs:{href:"https://codepen.io"}},[t._v("CodePen")]),t._v(".\n")]),t._v(" "),a("p",[t._v("在本例中，设置了超过页面高度的元素，以使页面自身发生滚动。")]),t._v(" "),a("p",[t._v("所以本例属于 "),a("strong",[a("code",[t._v("document")]),t._v(" 滚动")]),t._v("。")]),t._v(" "),a("p",[t._v("然后在 "),a("code",[t._v("window")]),t._v("、"),a("code",[t._v("document")]),t._v(" 以及 "),a("code",[t._v("element")]),t._v(" 上都注册了 "),a("code",[t._v("scroll")]),t._v(" 事件监听，分别在事件捕获和事件冒泡阶段进行触发。")]),t._v(" "),a("p",[t._v("而后的打印结果如下：")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('"scroll capture on window"\n\n"scroll capture on document"\n\n"scroll bubble on document"\n\n"scroll bubble on window"\n')])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])]),a("p",[t._v("根据打印结果可知，"),a("code",[t._v("scroll")]),t._v(" 事件监听只在 "),a("code",[t._v("window")]),t._v(" 和 "),a("code",[t._v("document")]),t._v(" 的捕获和冒泡阶段触发了。")]),t._v(" "),a("h2",{attrs:{id:"_2-2-element-滚动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-element-滚动"}},[t._v("#")]),t._v(" 2-2."),a("code",[t._v("element")]),t._v(" 滚动")]),t._v(" "),a("p",[t._v("可以点击本例，进行实际测试 "),a("code",[t._v("console")]),t._v(":")]),t._v(" "),a("iframe",{staticStyle:{width:"100%"},attrs:{height:"300",scrolling:"no",title:"element滚动",src:"https://codepen.io/code1994/embed/LYmYMxe?default-tab=html%2Cresult",frameborder:"no",loading:"lazy",allowtransparency:"true",allowfullscreen:"true"}},[t._v("\n  See the Pen "),a("a",{attrs:{href:"https://codepen.io/code1994/pen/LYmYMxe"}},[t._v("\n  element滚动")]),t._v(" by Code1994 ("),a("a",{attrs:{href:"https://codepen.io/code1994"}},[t._v("@code1994")]),t._v(")\n  on "),a("a",{attrs:{href:"https://codepen.io"}},[t._v("CodePen")]),t._v(".\n")]),t._v(" "),a("p",[t._v("在本例中，设置了定高的元素，其属性设置了 "),a("code",[t._v("overflow: scroll;")]),t._v(" 以使内部元素滚动。")]),t._v(" "),a("p",[t._v("所以本例属于 "),a("code",[t._v("element")]),t._v(" 滚动。")]),t._v(" "),a("p",[t._v("然后在 "),a("code",[t._v("window")]),t._v("、"),a("code",[t._v("document")]),t._v(" 以及 "),a("code",[t._v("element")]),t._v(" 上都注册了 "),a("code",[t._v("scroll")]),t._v(" 事件监听，分别在事件捕获和事件冒泡阶段进行触发。")]),t._v(" "),a("p",[t._v("而后的打印结果如下：")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('"scroll capture on window"\n\n"scroll capture on document"\n\n"scroll capture on app"\n\n"scroll bubble on app"\n')])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])]),a("p",[t._v("根据打印结果可知，"),a("code",[t._v("scroll")]),t._v(" 事件在冒泡阶段只触发了一次。")]),t._v(" "),a("h2",{attrs:{id:"_3-页面滚动相关方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-页面滚动相关方法"}},[t._v("#")]),t._v(" 3.页面滚动相关方法")]),t._v(" "),a("p",[t._v("本节总结介绍日常开发中，关于页面滚动的一些方法。")]),t._v(" "),a("h3",{attrs:{id:"_3-1-获取滚动距离"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-获取滚动距离"}},[t._v("#")]),t._v(" 3-1.获取滚动距离")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getScrollTop")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// safari使用的是window.pageYOffset")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentElement"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scrollTop "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scrollTop "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pageYOffset\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getScrollLeft")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// safari使用的是window.pageXOffset")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentElement"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scrollLeft "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scrollLeft "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pageXOffset \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br")])]),a("h3",{attrs:{id:"_3-2-判断元素是否在视口中"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-判断元素是否在视口中"}},[t._v("#")]),t._v(" 3-2.判断元素是否在视口中")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementStatusInViewPort")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("ele")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 浏览器高度兼容")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" windowHeight "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHeight "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentElement"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clientHeight "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clientHeight\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" offsetHeight "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ele"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offsetHeight\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" rectInfo "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getRect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ele"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" top"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" bottom "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" rectInfo\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在视口之下")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("top "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),t._v(" windowHeight"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'UNSHOW'")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 正在出现")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("top "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" windowHeight "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" bottom "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),t._v(" windowHeight"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'SHOWING'")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在视口中")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("top "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" top "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" windowHeight "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" bottom "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" bottom "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" windowHeight"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'SHOWED'")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 正在离开视口")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("top "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" bottom "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" offsetHeight "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" bottom "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'LEAVING'")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 已经离开视口")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("bottom "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'LEAVED'")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br")])]),a("h3",{attrs:{id:"_3-3-获取元素距离视口的上下左右边界"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-获取元素距离视口的上下左右边界"}},[t._v("#")]),t._v(" 3-3.获取元素距离视口的上下左右边界")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getRect")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("element")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 距离视窗的距离")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" rect "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" element"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getBoundingClientRect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// html元素对象的上边框的宽度")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" top "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentElement"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clientTop "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentElement"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clientTop "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" left "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentElement"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clientLeft "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentElement"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clientLeft "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    top"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" rect"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("top "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" top"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    bottom"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" rect"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("bottom "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" top"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    left"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" rect"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("left "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" left"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    right"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" rect"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("right "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" left\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br")])]),a("h3",{attrs:{id:"_3-4-获取某元素参照body的offsettop"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-获取某元素参照body的offsettop"}},[t._v("#")]),t._v(" 3-4.获取某元素参照body的offsetTop")]),t._v(" "),a("p",[a("strong",[t._v("不适用于 "),a("code",[t._v("position: fixed;")]),t._v(" 元素")]),t._v("。")]),t._v(" "),a("p",[t._v("因为设置了 "),a("code",[t._v("position: fixed;")]),t._v(" 的元素，其 "),a("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLElement/offsetParent",target:"_blank",rel:"noopener noreferrer"}},[t._v("offsetParent"),a("OutboundLink")],1),t._v(" 是 "),a("code",[t._v("null")]),t._v("。")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getOffsetTop")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("el")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" root "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" height "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    height "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" el"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offsetTop\n    el "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" el"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offsetParent\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("el "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" el "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!==")]),t._v(" root"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" height\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br")])]),a("h3",{attrs:{id:"_3-5-滚动到指定位置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-滚动到指定位置"}},[t._v("#")]),t._v(" 3-5.滚动到指定位置")]),t._v(" "),a("p",[a("code",[t._v("JavaScript")]),t._v(" 提供了相关方法，以使页面滚动到对应位置。")]),t._v(" "),a("p",[t._v("比较简单的一种方式是 "),a("code",[t._v("element.scrollIntoView()")]),t._v("。")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" element "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelector")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.scroll-target'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nelement"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("scrollIntoView")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  behavior"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'smooth'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("p",[t._v("但在实际操作中，会发现 "),a("code",[t._v("scrollIntoView")]),t._v(" 方法并不是 “十分好用”。")]),t._v(" "),a("p",[t._v("在这种情况下，可以"),a("strong",[t._v("计算目标元素需要偏移的距离")]),t._v("，并使用 "),a("code",[t._v("window.scrollTo")]),t._v(" “精确”的使页面滚动到指定位置。")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("scrollTo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  top"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  left"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  behavior"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'smooth'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("p",[t._v("其中 "),a("code",[t._v("top")]),t._v(" 对应顶部滚动距离，"),a("code",[t._v("left")]),t._v(" 对应左侧滚动距离。")]),t._v(" "),a("p",[t._v("而 "),a("strong",[a("code",[t._v("top")]),t._v(" 和 "),a("code",[t._v("left")]),t._v(" 的具体值的获取，可以利用本节中已经声明的方法")]),t._v("，有两种方式：")]),t._v(" "),a("ol",[a("li",[a("code",[t._v("getScrollTop")]),t._v(" 或 "),a("code",[t._v("getScrollLeft")]),t._v("， 结合 "),a("code",[t._v("getRect")]),t._v("。")]),t._v(" "),a("li",[t._v("直接利用 "),a("code",[t._v("getOffsetTop")]),t._v("。")])]),t._v(" "),a("p",[t._v("其中 "),a("code",[t._v("behavior")]),t._v(" 属性可设置为 "),a("code",[t._v("smooth")]),t._v("，页面会平滑过渡。")]),t._v(" "),a("p",[t._v("该属性也可以使用 "),a("code",[t._v("css")]),t._v(" 属性进行替代。")]),t._v(" "),a("p",[t._v("在"),a("strong",[t._v("监听 "),a("code",[t._v("scroll")]),t._v(" 事件的容器上")]),t._v("设置：")]),t._v(" "),a("div",{staticClass:"language-css line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".scroll-target")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("scroll-behavior")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'smooth'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("h2",{attrs:{id:"_4-页面滚动到指定位置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-页面滚动到指定位置"}},[t._v("#")]),t._v(" 4.页面滚动到指定位置")]),t._v(" "),a("p",[t._v("在本节中，我们介绍下，实现"),a("strong",[t._v("页面滚动到指定位置")]),t._v("的几种方式。")]),t._v(" "),a("h3",{attrs:{id:"_4-1-a-链接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-a-链接"}},[t._v("#")]),t._v(" 4-1."),a("code",[t._v("a")]),t._v(" 链接")]),t._v(" "),a("p",[t._v("该方法是 “原始时代” 流传下来的方式。")]),t._v(" "),a("p",[t._v("操作方便、实现简单。")]),t._v(" "),a("p",[t._v("但如果想要体验友好的话，需要设置 "),a("code",[t._v("css")]),t._v(" 属性 "),a("code",[t._v("scroll-behavior: 'smooth';")]),t._v("。")]),t._v(" "),a("iframe",{staticStyle:{width:"100%"},attrs:{height:"300",scrolling:"no",title:"1.scrollTo-a-link",src:"https://codepen.io/code1994/embed/PoeoXdr?default-tab=html%2Cresult",frameborder:"no",loading:"lazy",allowtransparency:"true",allowfullscreen:"true"}},[t._v("\n  See the Pen "),a("a",{attrs:{href:"https://codepen.io/code1994/pen/PoeoXdr"}},[t._v("\n  1.scrollTo-a-link")]),t._v(" by Code1994 ("),a("a",{attrs:{href:"https://codepen.io/code1994"}},[t._v("@code1994")]),t._v(")\n  on "),a("a",{attrs:{href:"https://codepen.io"}},[t._v("CodePen")]),t._v(".\n")]),t._v(" "),a("h3",{attrs:{id:"_4-2-scrollintoview"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-scrollintoview"}},[t._v("#")]),t._v(" 4-2.scrollIntoView")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Element/scrollIntoView",target:"_blank",rel:"noopener noreferrer"}},[t._v("scrollIntoView"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("strong",[t._v("取决于其它元素的布局情况，此元素可能不会完全滚动到顶端或底端")]),t._v("。")]),t._v(" "),a("iframe",{staticStyle:{width:"100%"},attrs:{height:"300",scrolling:"no",title:"2.scrollTo-scrollIntoView",src:"https://codepen.io/code1994/embed/mdLdaNZ?default-tab=html%2Cresult",frameborder:"no",loading:"lazy",allowtransparency:"true",allowfullscreen:"true"}},[t._v("\n  See the Pen "),a("a",{attrs:{href:"https://codepen.io/code1994/pen/mdLdaNZ"}},[t._v("\n  2.scrollTo-scrollIntoView")]),t._v(" by Code1994 ("),a("a",{attrs:{href:"https://codepen.io/code1994"}},[t._v("@code1994")]),t._v(")\n  on "),a("a",{attrs:{href:"https://codepen.io"}},[t._v("CodePen")]),t._v(".\n")]),t._v(" "),a("h3",{attrs:{id:"_4-3-scrollto"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-scrollto"}},[t._v("#")]),t._v(" 4-3.scrollTo")]),t._v(" "),a("p",[t._v("关于 "),a("code",[t._v("window.scrollTo")]),t._v(" 方法的重点在于"),a("strong",[t._v("如何计算滚动距离")]),t._v("。")]),t._v(" "),a("p",[t._v("在本例中利用了 "),a("code",[t._v("scrollTop")]),t._v(" 属性结合 "),a("code",[t._v("getBoundingClientRect")]),t._v(" 方法。")]),t._v(" "),a("p",[t._v("此外也可以使用我们在前俩节中提到的 "),a("code",[t._v("offsetTop")]),t._v(" 进行计算。")]),t._v(" "),a("iframe",{staticStyle:{width:"100%"},attrs:{height:"300",scrolling:"no",title:"3.scrollTo-scrollTo",src:"https://codepen.io/code1994/embed/PoeoVqw?default-tab=html%2Cresult",frameborder:"no",loading:"lazy",allowtransparency:"true",allowfullscreen:"true"}},[t._v("\n  See the Pen "),a("a",{attrs:{href:"https://codepen.io/code1994/pen/PoeoVqw"}},[t._v("\n  3.scrollTo-scrollTo")]),t._v(" by Code1994 ("),a("a",{attrs:{href:"https://codepen.io/code1994"}},[t._v("@code1994")]),t._v(")\n  on "),a("a",{attrs:{href:"https://codepen.io"}},[t._v("CodePen")]),t._v(".\n")]),t._v(" "),a("p",[t._v("相应的，也可以利用对应 "),a("code",[t._v("API")]),t._v(" 来实现横向滚动：")]),t._v(" "),a("iframe",{staticStyle:{width:"100%"},attrs:{height:"300",scrolling:"no",title:"4.scrollTo-horizon",src:"https://codepen.io/code1994/embed/JjvjxEw?default-tab=html%2Cresult",frameborder:"no",loading:"lazy",allowtransparency:"true",allowfullscreen:"true"}},[t._v("\n  See the Pen "),a("a",{attrs:{href:"https://codepen.io/code1994/pen/JjvjxEw"}},[t._v("\n  4.scrollTo-horizon")]),t._v(" by Code1994 ("),a("a",{attrs:{href:"https://codepen.io/code1994"}},[t._v("@code1994")]),t._v(")\n  on "),a("a",{attrs:{href:"https://codepen.io"}},[t._v("CodePen")]),t._v(".\n")]),t._v(" "),a("h2",{attrs:{id:"_5-滚动条"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-滚动条"}},[t._v("#")]),t._v(" 5.滚动条")]),t._v(" "),a("p",[t._v("在 "),a("code",[t._v("scroll")]),t._v(" 相关需求中，有可能需要设置滚动条。")]),t._v(" "),a("p",[t._v("在此粗略记录下。")]),t._v(" "),a("h3",{attrs:{id:"_5-1-隐藏滚动条"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-隐藏滚动条"}},[t._v("#")]),t._v(" 5-1.隐藏滚动条")]),t._v(" "),a("div",{staticClass:"language-css line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 隐藏滚动条 */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v("body::-webkit-scrollbar")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("display")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" none"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* Chrome Safari */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v("html, body")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("scrollbar-width")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" none"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* firefox */")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("-ms-overflow-style")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" none"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* IE 10+ */")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* overflow-x: hidden; */")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* overflow-y: auto; */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br")])])])}),[],!1,null,null,null);s.default=n.exports}}]);